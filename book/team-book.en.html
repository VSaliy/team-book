<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Takari Extensions for Apache Maven TEAM - Documentation</title></head><body><h1>Preface</h1>

<p>Welcome to the book about the Takari Extensions for Apache Maven TEAM and
related tools and projects. We hope you will find this book to be a useful
resource for getting started with TEAM and learning more about getting the most
out of the advanced features it offers.</p>

<h2>Welcome from Jason van Zyl</h2>

<p>Maven has been around for over 10 years. The idea for the project predates the
release by several years, but the tool you know as Maven has had a 10th birthday
this year. During that decade, while the tool has changed, the core assumptions
and conventions have stood the test of time. Ten years later, Maven is used in
some of the biggest projects in the industry, and the tool has helped to create
a healthy ecosystem of open source development, because it made it easy to share
components.</p>

<p>The existence of a central repository for Java components is something all Java
developers are now used to, and Maven was the project that established the first
central repository for Java. The idea of convention over configuration for Java
projects remains important to the projects I work with every day, almost 10
years later. Other build tools have attempted to create new standards and build
conventions, yet Maven still provides the best balance between convention and
flexibility.</p>

<p>If you want your organization to focus on delivering software and if you want
to avoid creating custom build scripts that are difficult to understand and
maintain, you use Maven. It provides a model that is easy to understand, and it
can be adapted to meet most requirements.</p>

<p>What is also became clear over these 10 years is that Maven's conventions are
not for everyone, and this is to be expected. When I hear that people are
dissatisfied with Maven or when people call it inflexible and broken, I agree.
Maven isn't aiming to be everything to every build engineer. If you don't follow
the conventions it has clearly outlined, it is inflexible or broken. The tool is
opinionated, and if these opinions are in conflict with your own, then the
answer is to innovate.</p>

<p>Takari's TEAM (officially known as Takari Extensions for Apache Maven) is
Takari's attempt to address several key issues with Maven in a distribution that
is aimed at large-scale projects. In my own work with Maven I came to the
realization that it was time to build a set of extensions and customizations on
top of Maven that would allow it to stay as strong over the next ten years as it
has been over the last.</p>

<p>While features like incremental builds and faster parallel builds will
certainly be relevant to all Maven users, these features have been designed to
address the needs of build at scale.</p>

<h2>Who is this book for?</h2>

<p>This book is written for users who have experience with Maven. While Takari
does offer Maven training for users, this book will assume that you are familiar
with basic Maven concepts such as the POM or the Maven Lifecycle. With TEAM,
Takari wanted to make sure that we were focused on addressing critical gaps in
Maven's core and Maven's plugins. Good Maven documentation isn't one of these
gaps, and if you are looking for practical information about Maven's basic
concepts, we encourage you to browse the Maven project web site at
http://maven.apache.org</p>

<p>This book is written for someone currently using Maven or for someone
evaluating using the TEAM distribution to improve an existing Maven build.</p>

<h2>How to read this book</h2>

<p>The TEAM book has been written as a comprehensive reference to the features
offered by TEAM. If you are new to TEAM we encourage you to read the introduction,
but if you are only interested in learning how to use a specific feature or
plugin you will be able to skip to an individual chapter and get started.</p>

<p>We wrote each chapter as a stand-alone document that can be used independent of
other parts of this book, and when necessary we will include a cross-reference
to a related section in another chapter.</p>

<h2>How to Contact Takari</h2>

<p>Takari is available if you have questions about the TEAM distribution, questions
about support, or if you have a suggestion for a new feature. We're very
interested in your feedback and suggestions.</p>

<p>Our website at http://takari.io/ contains numerous resources that might be of
interest to you</p>

<p>To get in touch with Takari, we encourage you to send an email to
team@takari.io</p>

<h3>Takari Maven Training</h3>

<p>Takari offers virtual training for Maven and custom training classes for
Takari's TEAM distribution.</p>

<p>Takari's Introduction to Maven is a virtual training course that was designed
to focus on practice rather than theory. The course is designed to bring
everyone up to a base line of knowledge of Maven so teams can collaborate on
projects more effectively.</p>

<p>For more information about Takari's Maven training, email training@takari.io.</p>

<h3>Takari Subscription</h3>

<p>Takari offers support for Maven and the TEAM distribution with a subscription to
the TEAM distribution. If your organization depends on Takari, we encourage you
to subscribe to our commercial offering for the latest updates and information
about the TEAM distribution as well as for early-access to features included in
the TEAM distribution.</p>

<p>With a Takari subscription you'll have the ability to receive direct support
from Takari's team of open source experts.</p>

<h2>Acknowledgements</h2>

<p>The authors of this book would like to acknowledge the customers of Takari for
supporting sustainable open source development.</p>
<h1>Introduction</h1>

<p>This book was created to document the plugins and features available in the
Takari Extensions for Apache Maven (TEAM). This introduction defines what the
TEAM distribution is and introduces the company behind this new
distribution.</p>

<h2>What is TEAM?</h2>

<p>TEAM stands for the Takari Extensions for Apache. TEAM is a collection of
supported Maven plugins and extensions to a core Apache Maven. It is made freely
available by Takari. Takari is creating new releases every 30-60 days depending
on the current development schedule.</p>

<p>TEAM was created to address several shortcomings in the "stock" Maven
distribution and TEAM includes the following features beyond that of Maven:</p>

<ol>
<li><p>Support for incremental build operations</p></li>
<li><p>An intelligent approach to the parallelization of Maven builds</p></li>
<li><p>An alternative to SNAPSHOT releases called Generations</p></li>
</ol>


<h3>TEAM: Advanced Use Cases for Maven</h3>

<p>While TEAM's features are relevant to all Maven users, these features and
plugins were designed to support development at scale - on projects with
hundreds or thousands of developers. These advanced builds are often
characterized by large networks of interdependent groups building and delivering
a steady stream of software to production dealing with challenges that arise
when an organization has a a large number of components with often conflicting
release schedules.</p>

<p>On such large projects the key to success is agility, the pace with which new
features can be implemented and additional releases can be delivered. These
projects can rarely stop and wait for a formal release process that takes hours
to complete. Individual developers are most productive when they can focus on
incremental builds that don't cause them to set aside hours or days for
integration.</p>

<p>TEAM can be used by any Maven user, but TEAM was specifically designed for the
needs of large software projects. The features added to TEAM cater to issues that
arise when hundreds or thousands of developers are collaborating on fast-moving
projects.</p>

<h3>What is Takari?</h3>

<p>Takari is a company founded by Jason van Zyl focused on creating software to
manage component-based development and to support builds at scale. Takari's
developers bring multiple decades of experience building software systems to our
customers. We know about creating and documenting large open source projects
including Maven among others from years of actually running them.</p>

<h3>Sustainable Open Source Development</h3>

<p>Takari is committed to practicing sustainable open source development and
building a community that understands exactly how open source developers and
community members must be active participants to ensure the ongoing health of an
open source project.</p>

<h3>Integrity and Authenticity</h3>

<p>As open source developers we believe in doing the right thing, in a reliable
way and are committed to being genuine in our actions and reactions. Everyone
from our developers to our executives understands that our actions must be
consistent with our community.</p>

<h3>Our Customers are Our Investors</h3>

<p>Our customers fund our day-to-day operations by paying for our training,
services and products. We answer to our customers so we can continue to focus
our energy where it matters most — on creating high-quality, useful products for
the community.</p>

<h3>Community Support is Key</h3>

<p>Staying involved and continuing to support the projects that are such a large
part of where we came from is important to us. While we are focused on
delivering quality software to our supporters we are also cognizant of the
larger community.</p>

<h2>Evolving Challenges - Builds at Scale</h2>

<p>The efforts of Takari related to TEAM are influenced by the following industry
trends:</p>

<h3>Changing Technology - Changing Conventions</h3>

<p>What worked 10 years ago may not be appropriate for today’s builds, but the
core concepts that drove the creation of Maven are still valid today. Convention
over configuration is even more appropriate now than it was then given the
amount of variation introduced by polyglot development. With new languages, new
production architectures, and a growing array of tools, Maven needs more than
just a few new plugins to support new tools. It needs a comprehensive overhaul
to allow for continued adaptation.</p>

<p>Incremental and parallel build improvements allow Maven to be used for a number
of use-cases such as incremental compilation, incremental processing of
Javascript resources, and other requirements which may not have been of primary
concern in 2004.</p>

<p>TEAM updates the concept of SNAPSHOTS for complex projects and replaces it with
Generations. This is an approach to tracking software releases and relating
specific point-in-time releases to a commit or branch in a distributed version
control system.</p>

<p>Over time TEAM will release updates to the core APIs and models of Maven to
allow for easier integration with different languages, tools, and technology. It
is Takari's goal to make sure that TEAM's regular releases can fill in the gaps
between Maven's far less frequent releases so that changes in technology can be
quickly addressed by TEAM.</p>

<h3>Faster Lifecycles: More Frequent Releases</h3>

<p>When Maven was created we were aiming at projects that needed to conduct a
weekly or monthly software release for a relatively well-defined project. When
Maven was still new, the industry didn't have projects beyond a certain level of
complexity because the easy, component-based approach to development in Java
hadn't yet been enabled by Maven. Projects were more limited in scope then they
are today. In addition to differences in scope, projects weren't nearly as
complex and interdependent as projects Takari supports in the field in 2014.</p>

<p>Today, we see large organizations with hundreds or thousands of developers.
These organizations are building very complex, interdependent systems which
depend upon Maven to facilitate both continuous integration and software
releases. Where a company may only push to production once a month in 2004 or
even less frequently, that same company expects to be able to push to production
as often as possible even multiple times a day. This is the emerging reality of
enterprise software development and Maven's legacy approach to Releases and
SNAPSHOTs does not lend itself to these, more iterative and agile workflows.</p>

<p>TEAM's generations features as well as incremental and parallel builds are aimed
squarely at created more timely and efficient builds for organizations that are
looking to push to production frequently.</p>
<h1>Installing TEAM</h1>

<p>This chapter covers the installation process for the Takari Extensions for
 Apache Maven - TEAM.</p>

<p>Before you start installing TEAM there are a few things to establish. The
following sections outline a few assumptions about the audience for this chapter
as well as the prerequisites necessary for a successful installation.</p>

<h2>Assumptions</h2>

<p>One of the assumptions of TEAM is that you are already somewhat familiar with
Maven terminology. You understand how to install Maven, and you also understand
how to run Maven from the command-line. The good news is that, if you know how
to do these two things, the installation process should be very easy for you.</p>

<p>If you are unfamiliar with Maven terminology, and if you have never installed
Maven before, we suggest that you refer to the existing documentation or attend
a Takari Maven training. In general, a familiarity with Maven will make the
installation and setup process of TEAM very easy to understand.</p>

<h2>Prerequisites</h2>

<p>TEAM is designed and tested for</p>

<ul>
<li>Microsoft Windows 7 or higher</li>
<li>Apple OSX 10.7 or higher and</li>
<li>Modern Linux Distributions</li>
</ul>


<p>with the Oracle Java Development Kit JDK version 7 installed. You can verify
your JDK installation by running 'java -version' which should result in an
 output similar to</p>

<pre><code>$java -version
java version "1.7.0_65"
Java(TM) SE Runtime Environment (build 1.7.0_65-b17)
Java HotSpot(TM) 64-Bit Server VM (build 24.65-b04, mixed mode)
</code></pre>

<p>Depending on your particular system and setup procedures, you may need
administrative access to the machine you are installing TEAM on. If you following
the instructions outlined below, you will certainly need administrative access,
but if you understand what you are doing you may be able to get away with
running TEAM from a directory in your home directory. We leave this customization
to the reader.</p>

<h2>Downloading TEAM</h2>

<p>You TEAM can be downloaded from the Central Repository at
https://repo.maven.apache.org/maven/io/takari/takari-team-maven/. This location
contains all released versions. The TEAM distribution is available as both a
GZip'd tar archive in each version specific folder following the Maven
repository format's naming convention for the archive. E.g. you can download
version 0.9.0 of TEAM from</p>

<pre><code>https://repo1.maven.org/maven2/io/takari/takari-team-maven/0.9.0/takari-team-maven-0.9.0.tar.gz
</code></pre>

<p>resulting in a downloaded archive file name of <code>takari-team-maven-0.9.0.tar.gz</code>.</p>

<h2>Installing TEAM</h2>

<p>There are two ways to install TEAM on your computer. You can download a complete
distribution of TEAM which includes Apache Maven. Alternatively you can run an
installer that will turn a compatible installation of Apache Maven 3 into a
functioning installation of TEAM. The second option was created for environment
in which Maven is already installed to make it easier to migrate large groups of
developers to the supported TEAM distribution.</p>

<h3>Installing a TEAM Distribution</h3>

<p>Installing the TEAM distribution is easy, and if you are familiar with
installing Maven you'll notice the similarities. Once you have downloaded the
archive extract it with a command line tool like 'tar' or one of the
many available archive management applications for your operating system.</p>

<pre><code>tar xvzf takari-team-maven-0.9.0.tar.gz
</code></pre>

<p>Successful extraction will create a directory with the same name as the archive
file, omitting the extension.</p>

<pre><code>takari-team-maven-0.9.0
</code></pre>

<p>As a next step you need to move this directory to a suitable location. The
only requirements is that the user that will run TEAM has read access to the
path.</p>

<p>We suggest to follow the operating system specific recommendations e.g. on
Linux or OSX install TEAM into /opt or /usr/local and avoid path names containing
spaces such as "Program Files".</p>

<pre><code>/opt/takari-team-maven-0.9.0
C:\tools\takari-team-maven-0.9.0
</code></pre>

<p>The next steps should be just as familiar from a standard Maven installation as
the simple archive extraction - create a M2_HOME environment variable that
points to the folder you just created and add M2_HOME/bin to the PATH.</p>

<p>On Linux or OSX you can configure this e.g., in your '~/.profile' file with</p>

<pre><code>export M2_HOME=/opt/takari-team-maven-0.9.0
export PATH=M2_HOME/bin:$PATH
</code></pre>

<p>On Windows you typically configure this via the user interface as a system
environment variable. On the command line you can use the set command:</p>

<pre><code>set M2_HOME=c:\tools\takari-team-maven-0.9.0
</code></pre>

<p>Note that the usage of the environment variable is done
via '%M2_HOME%' as compared to '$M2_HOME', that the delimiter in the path
definition is a semicolon and the path separator is a backslash so your PATH
modification will look similar to</p>

<pre><code>%M2_HOME%\bin;%PATH%
</code></pre>

<h3>Upgrading an Existing Apache Maven Installation</h3>

<p>To upgrade an existing Apache Maven installation....</p>

<pre><code>mvn team:install or whatever
</code></pre>

<h2>Verifying your TEAM Installation</h2>

<p>Once you have installed the TEAM distribution, you should verify your setup
by running 'mvn -v' or mvn --version', which should display the TEAM version
and some further details:</p>

<pre><code>$ mvn -v
Takari TEAM 0.9.0 (15eb3...; 2014-08-28T10:27:57-07:00)
Maven home: /opt/tools/takari-team-maven-0.9.0
Java version: 1.7.0_65, vendor: Oracle Corporation
Java home: /Library/Java/JavaVirtualMachines/jdk1.7.0_65.jdk/Contents/Home/jre
Default locale: en_US, platform encoding: UTF-8
OS name: "mac os x", version: "10.8.5", arch: "x86_64", family: "mac"
</code></pre>

<p>Here is an example figure ... have to figure out how that works in the scripts
yet. Notice that the file name does NOT determine the file .. only to some
degree. The chapter number is autoinserted based on the folder or so.</p>

<p><img src="figures/3.1.png" title="3.1 one one" alt="3.1 one one" /></p>

<p>If you make some changes and commit again, the next commit stores a pointer to
the commit that came immediately before it. After two more commits, your history
might look something like Figure 1-2.</p>

<p><img src="figures/3.2.png" title="3.2 one two" alt="3.2 one two" /></p>
<h1>The Takari Lifecycle</h1>

<p>TEAM includes an optimized replacement for the Maven default lifecycle. The
Takari Lifecycle Plugin provided you access to a number of significant
advantages:</p>

<ol>
<li><p>One plugin with a small set of dependencies provides equivalent functionality
to five plugins with a large set of transitive dependencies. This reduces the
download times to retrieve the needed components as well tje storage space
requirements in your repositories.</p></li>
<li><p>The configuration for a number of aspects for your build is centralized to
one plugin and simplified.</p></li>
<li><p>The reduced complexity of the plugins involved in the build results in higher
build performance on the command line and in the IDE.</p></li>
<li><p>The build is fully incremental, not only for your source code, but also for
your resources, which in turn again speeds up development cycle and build
times.</p></li>
<li><p>Dedicated IDE support brings the advantages of the lifecyle to your daily
development work.</p></li>
</ol>


<h2>Overview</h2>

<p>The Takari lifecycle is implemented by a single Maven plugin that acts as build
extension and replaces the following Maven plugins:</p>

<ul>
<li>Maven Resources Plugin</li>
<li>Maven Compiler Plugin</li>
<li>Maven Jar Plugin</li>
<li>Maven Install Plugin</li>
<li>Maven Deploy Plugin</li>
</ul>


<p>You can take advantage of all these replacements in your builds or pick and
choose.</p>

<h2>Activating the Lifecycle</h2>

<p>In order to take advantage of the improved lifecycle, you have to activate it by
adding the takari-lifecycle-plugin as a build extension.</p>

<pre><code>&lt;build&gt;
  &lt;plugins&gt;
    &lt;plugin&gt;
      &lt;groupId&gt;io.takari.maven.plugins&lt;/groupId&gt;
      &lt;artifactId&gt;takari-lifecycle-plugin&lt;/artifactId&gt;
      &lt;extensions&gt;true&lt;/extensions&gt;
    &lt;/plugin&gt;
  &lt;/plugins&gt;
&lt;/build&gt;
</code></pre>

<p>This is all the configuration necessary for projects with packaging 'pom'. The
lifecycle bindings are altered so that the takari-lifeycle-plugin replaces the
install and deploy plugins in the respective lifecycle phases.</p>

<p>Additionally projects with packaging 'jar' have to be switched to use the
'takari-jar' packaging.</p>

<pre><code>&lt;project&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  &lt;groupId&gt;io.takari.lifecycle.its.basic&lt;/groupId&gt;
  &lt;artifactId&gt;basic&lt;/artifactId&gt;
  &lt;version&gt;1.0&lt;/version&gt;
  &lt;packaging&gt;takari-jar&lt;/packaging&gt;
</code></pre>

<p>The 'takari-jar' packaging defines new lifecycle bindings for your build and
replaces the default plugins for the 'jar' packaging with their Takari
counterparts. The Maven resources, compiler, jar, install and deploy plugins
are replaced. Using the 'takari-jar' packaging is the easiest way to adopt all
the new features.</p>

<p>Alternatively you can use only a specific part, e.g. the new compiler goals only,
by using the default 'jar' packaging with the 'takari-lifecycle-plugin' added.
If you choose this approach, you will need to deactivate (or skip) the plugin you
want to replace to avoid interference problems between the takari lifeycle and
the default plugin.</p>

<p>An example for using the 'jar' packaging, but replacing the default compiler
with the takari lifecycle support can be configured by adding the
'takari-lifecycl-plugin' and explicitly configuring the goals you want to
execute:</p>

<pre><code>&lt;build&gt;
  &lt;plugins&gt;
    &lt;plugin&gt;
      &lt;groupId&gt;io.takari.maven.plugins&lt;/groupId&gt;
      &lt;artifactId&gt;takari-lifecycle-plugin&lt;/artifactId&gt;
      &lt;executions&gt;
        &lt;execution&gt;
          &lt;id&gt;compile&lt;/id&gt;
          &lt;goals&gt;
            &lt;goal&gt;compile&lt;/goal&gt;
            &lt;goal&gt;testCompile&lt;/goal&gt;
          &lt;/goals&gt;
        &lt;/execution&gt;
      &lt;/executions&gt;
    &lt;/plugin&gt;
  &lt;/plugins&gt;
</code></pre>

<p>and deactivating the Maven compiler plugin:</p>

<pre><code>&lt;build&gt;
....
  &lt;pluginManagement&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.1&lt;/version&gt;
        &lt;configuration&gt;
          &lt;skip&gt;true&lt;/skip&gt;
          &lt;skipMain&gt;true&lt;/skipMain&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/pluginManagement&gt;
</code></pre>

<p>In a similar manner you can configure to use the other goals of the takari
lifecycle plugin, replacing specific parts of your default build.</p>

<h2>Observing the Takari Lifecycle on the Log</h2>

<p>Once you have activated the Takari lifecycle, the build log will show all the
invocations of the specific goals. For a project with packaging 'pom' this
will mainly affect the install and deploy invocations</p>

<pre><code>[INFO] --- takari-lifecycle-plugin:1.7.4:install (default-install) @ pom-only ---
[INFO] Performing incremental build
[INFO] Installing .../pom.xml to /~/.m2/repository/.../SNAPSHOT/pom-only-1.0.0-SNAPSHOT.pom
[INFO]
[INFO] --- takari-lifecycle-plugin:1.7.4:deploy (default-deploy) @ pom-only ---
[INFO] Performing incremental build
...
Uploaded: http://.../1.0.0-SNAPSHOT/pom-only-1.0.0-20140731.183927-2.pom (2 KB at 8 KB/sec)
</code></pre>

<p>A project with packaging 'takari-jar' will log the lifecycle plugin invocations
for the resources, compiliation and packaging related goals as well.</p>

<p>Upon first invocation each goal will be performed as usual, executing all steps
e.g., compiling all files or copying and filtering all resources.</p>

<pre><code>[INFO] --- takari-lifecycle-plugin:1.7.4:process-resources (default-process-resources) @ simple-jar ---
[INFO] Previous incremental build state does not exist, performing full build
</code></pre>

<p>Subsequent builds, however will be able to access the information about prior
builds and execute incrementally.</p>

<pre><code>$ mvn compile
[INFO] --- takari-lifecycle-plugin:1.7.4:process-resources (default-process-resources) @ simple-jar ---
[INFO] Performing incremental build
[INFO]
[INFO] --- takari-lifecycle-plugin:1.7.4:compile (default-compile) @ simple-jar ---
[INFO] Performing incremental build
[INFO] Skipped compilation, all 1 sources are up to date
</code></pre>

<p>Note that a 'clean' invocation removes the state information and re-establishes
a clean slate.</p>

<h2>Configuring Resource Filtering and Processing</h2>

<p>The Takari lifecycle supports the resource configuration just like the Maven
resources plugin e.g.,</p>

<pre><code>&lt;build&gt;
  &lt;resources&gt;
    &lt;resource&gt;
      &lt;directory&gt;src/main/resources&lt;/directory&gt;
      &lt;filtering&gt;true&lt;/filtering&gt;
    &lt;/resource&gt;
  &lt;/resources&gt;
</code></pre>

<p>In contrast to the Maven resources plugin it however supports incremental
resource processing in terms of copying and filtering. It detects any property
changes as well as any resource changes and incrementally reprocesses the
affected files only as shown in the log</p>

<pre><code>[INFO] --- takari-lifecycle-plugin:1.7.4:process-resources (default-process-resources) @ simple-jar ---
[INFO] Performing incremental build
</code></pre>

<p>Property changes are sources from the pom file as well as the user settings
file.</p>

<h2>Compiler Configuration</h2>

<p>The Takari lifecycle compiler integration replaces the Maven compiler plugin to
compile main and test source code. It will automatically be used if you use
project packaging of 'takari-jar'</p>

<p>The compiler integration supports a number of configuration parameters. The
source and target parameters allow you to set the respective parameters for the
compiler.</p>

<p>For example, the following configuration can be used to compile Java 1.9 source
code to Java 1.9 compatible class files</p>

<pre><code>&lt;plugins&gt;
  &lt;plugin&gt;
    &lt;groupId&gt;io.takari.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;takari-lifecycle-plugin&lt;/artifactId&gt;
    &lt;configuration&gt;
      &lt;source&gt;1.9&lt;/source&gt;
      &lt;target&gt;1.9&lt;/target&gt;
     &lt;configuration&gt;
</code></pre>

<p>Alternatively the properties 'maven.compiler.source' and 'maven.compiler.target'
can be used. Following is a list of all compiler related configuration options</p>

<dl>
<dt>compilerId (maven.compiler.compilerId)</dt>
<dd>The default value of 'javac' will invoke the Java compiler of the installed
JDK. 'forked-javac' will fork a new process or 'jdt' will use the Eclipse
JDT compiler.</dd>
<dt>debug (maven.compiler.debug)</dt>
<dd>Configures the amount of debug information in the output class files. The
default is 'all' or 'true' and includes all available debug information. The
opposite is 'none' or 'false', excluding everything. Fine grained control is
possible by using a comma separated list of parameters including 'source'
(source file debugging information), 'lines' (line number debugging information)
and 'vars' (local variable debugging information).</dd>
<dt>encoding (encoding)</dt>
<dd>The -encoding argument for the Java compiler.</dd>
<dt>meminitial (maven.compiler.meminitial)</dt>
<dd>The initial size, in megabytes, of the memory allocation pool e.g., '64'.</dd>
<dt>maxmem (maven.compiler.maxmem)</dt>
<dd>The maximum size, in megabytes, of the memory allocation pool, e.g, '128'.</dd>
<dt>source (maven.compiler.source)</dt>
<dd>The Java source level argument passed to the compiler.</dd>
<dt>target (maven.compiler.source</dt>
<dd>The Java target level argument passed to the compiler.</dd>
<dt>verbose (maven.compiler.verbose)</dt>
<dd>Controls the verbosity of the compiler output, defaulting to 'false'. 'true'
activates verbose output.</dd>
</dl>

<p>showWarnings (maven.compiler.showWarnings)</p>

<p>The 'compile' goal supports specifying 'includes' and 'excludes' and the
'testCompile' supports the equivalent 'testIncludes' and 'testExcludes'</p>

<h2>Packaging jars Archives</h2>

<p>Creating source and test</p>

<p>Part of the jar mojo configuration</p>

<pre><code>&lt;plugin&gt;
  &lt;groupId&gt;io.takari.maven.plugins&lt;/groupId&gt;
  &lt;artifactId&gt;takari-lifecycle-plugin&lt;/artifactId&gt;
  &lt;extensions&gt;true&lt;/extensions&gt;
  &lt;configuration&gt;
    &lt;sourceJar&gt;true&lt;/sourceJar&gt;
    &lt;testJar&gt;true&lt;/testJar&gt;
  &lt;/configuration&gt;
</code></pre>

<ul>
<li>mainJar</li>
<li>sourceJar</li>
<li>testJar</li>
<li>archive (and all the nested stuff)</li>
</ul>


<h2>Installing and Deploying Artifacts</h2>

<p>The takari lifecycle plugin transparently replaces the install and the deploy
plugins as you can see from this sample output of running deploy on a 'pom'
packing project.</p>

<pre><code>[INFO] --- takari-lifecycle-plugin:x.y.z:install (default-install) @ pom-only ---
[INFO] Installing .../pom.xml to ~/.m2/repository/.../pom-only-1.0.pom
[INFO]
[INFO] --- takari-lifecycle-plugin:1.8.0-SNAPSHOT:deploy (default-deploy) @ pom-only ---
Uploading: http://.../pom-only-1.0.pom
Uploaded: http://.../pom-only-1.0.pom (2 KB at 4.5 KB/sec)
Downloading: http://.../maven-metadata.xml
Uploading: http://.../maven-metadata.xml
Uploaded: http://.../maven-metadata.xml (311 B at 1.6 KB/sec)
</code></pre>

<p>On a jar packaging project the pom and jar are installed and deployed as usual:</p>

<pre><code>[INFO] --- takari-lifecycle-plugin:x.y.z:install (default-install) @ simple-jar ---
[INFO] Installing .../simple-jar-1.0-SNAPSHOT.jar to ~/.m2/repository/.../simple-jar-1.0-SNAPSHOT.jar
[INFO] Installing .../pom.xml to ~/.m2/repository/.../simple-jar-1.0-SNAPSHOT.pom
[INFO]
[INFO] --- takari-lifecycle-plugin:x.y.z:deploy (default-deploy) @ simple-jar ---
Downloading: http://.../maven-metadata.xml
Uploading: http://.../simple-jar-1.0-20140620.221731-1.jar
Uploaded: http://.../simple-jar-1.0-20140620.221731-1.jar (2 KB at 9.2 KB/sec)
Uploading: http://.../simple-jar-1.0-20140620.221731-1.pom
Uploaded: http://.../simple-jar-1.0-20140620.221731-1.pom (2 KB at 13.4 KB/sec)
Downloading: http://.../maven-metadata.xml
Uploading: http://.../maven-metadata.xml
Uploaded: http://.../maven-metadata.xml (781 B at 11.7 KB/sec)
Uploading: http://.../maven-metadata.xml
Uploaded: http://.../maven-metadata.xml (295 B at 4.8 KB/sec)
</code></pre>

<h2>Installing M2e Integration</h2>

<p>The incremental build behavior of the takari lifecycle is supported by an
extension to the Maven support for Eclipse, m2e.</p>

<p>You can install it by choosing Help - Install New Software and adding another
software site using the newest subdirectory of</p>

<pre><code>http://repository.takari.io:8081/nexus/content/sites/m2e.extras/m2eclipse-takari-lifecycle/0.1.0/N/
</code></pre>

<p>as the URL. Once the availabel components are loaded, you will be able to select
the Takari Build Lifecycle and proceed with the install through the dialogs.
After a restart of Eclipse the incremental build support will be available.</p>
<h1>Generations</h1>

<p>TEAM supports a replacement for the distinction between development or SNAPSHOT
versions and release versions of Maven projects and artifacts called
Generations. This new concept allows for every build to be treated as a
potential release and establishes a mapping of each artifact to a unique
revision in the version control system.</p>

<p>It relies on a sequential increment of a version number qualifier that it
manages in coordination with the backing SCM system. Currently P4 is
supported... a centralized git support and others are planned..</p>

<p>Generations support in TEAM allows for simple setups of Maven based builds to
support continuous build as well as continuous deployment set ups.</p>

<p>More to come here shortly. We can take some stuff from blog posts and more.</p>
<h1>Appendix</h1>

<h2>Book License - Creative Commons</h2>

<p>Creative Commons Attribution-NonCommercial-ShareAlike 4.0
International Public License</p>

<p>By exercising the Licensed Rights, You accept and agree to be bound by the
terms and conditions of this Creative Commons
Attribution-NonCommercial-ShareAlike 4.0 International Public License ("Public
License"). To the extent this Public License may be interpreted as a contract,
you are granted the Licensed Rights in consideration of your acceptance of these
terms and conditions, and the Licensor grants you such rights in consideration
of benefits the Licensor receives from making the Licensed Material available
under these terms and conditions.</p>

<p>Please review the license deed and the legal code for further details:</p>

<ul>
<li>http://creativecommons.org/licenses/by-nc-sa/4.0/</li>
<li>http://creativecommons.org/licenses/by-nc-sa/4.0/legalcode</li>
</ul>

</body></html>